/*! For license information please see 4.c73e6a68.chunk.js.LICENSE.txt */
(this["webpackJsonpmusic-scholars-annotator"]=this["webpackJsonpmusic-scholars-annotator"]||[]).push([[4],{863:function(e,t,i){"use strict";i.r(t),i.d(t,"Lexer",(function(){return n.a})),i.d(t,"Parser",(function(){return G})),i.d(t,"Writer",(function(){return W})),i.d(t,"Store",(function(){return ne})),i.d(t,"StreamParser",(function(){return ue})),i.d(t,"StreamWriter",(function(){return ce})),i.d(t,"Util",(function(){return r})),i.d(t,"DataFactory",(function(){return R})),i.d(t,"Term",(function(){return N})),i.d(t,"NamedNode",(function(){return S})),i.d(t,"Literal",(function(){return P})),i.d(t,"BlankNode",(function(){return T})),i.d(t,"Variable",(function(){return E})),i.d(t,"DefaultGraph",(function(){return F})),i.d(t,"Quad",(function(){return Q})),i.d(t,"Triple",(function(){return Q})),i.d(t,"termFromId",(function(){return C})),i.d(t,"termToId",(function(){return L}));var r={};i.r(r),i.d(r,"isNamedNode",(function(){return d})),i.d(r,"isBlankNode",(function(){return f})),i.d(r,"isLiteral",(function(){return _})),i.d(r,"isVariable",(function(){return p})),i.d(r,"isDefaultGraph",(function(){return b})),i.d(r,"inDefaultGraph",(function(){return v})),i.d(r,"prefix",(function(){return y})),i.d(r,"prefixes",(function(){return k}));var n=i(975),a=i(31),s=i(42),u=i(354),c=i(53),o=i(39),h=i(40),l=i(972);function d(e){return!!e&&"NamedNode"===e.termType}function f(e){return!!e&&"BlankNode"===e.termType}function _(e){return!!e&&"Literal"===e.termType}function p(e){return!!e&&"Variable"===e.termType}function b(e){return!!e&&"DefaultGraph"===e.termType}function v(e){return b(e.graph)}function y(e,t){return k({"":e},t)("")}function k(e,t){var i=Object.create(null);for(var r in e)n(r,e[r]);function n(e,r){if("string"===typeof r){var n=Object.create(null);i[e]=function(e){return n[e]||(n[e]=t.namedNode(r+e))}}else if(!(e in i))throw new Error("Unknown prefix: ".concat(e));return i[e]}return t=t||R,n}var g,j=l.a.rdf,x=l.a.xsd,m=0,I=/^"(.*".*)(?="[^"]*$)/,w=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,O={namedNode:function(e){return new S(e)},blankNode:function(e){return new T(e||"n3-".concat(m++))},variable:function(e){return new E(e)},literal:function(e,t){if("string"===typeof t)return new P('"'.concat(e,'"@').concat(t.toLowerCase()));var i=t?t.value:"";""===i&&("boolean"===typeof e?i=x.boolean:"number"===typeof e&&(Number.isFinite(e)?i=Number.isInteger(e)?x.integer:x.double:(i=x.double,Number.isNaN(e)||(e=e>0?"INF":"-INF"))));return""===i||i===x.string?new P('"'.concat(e,'"')):new P('"'.concat(e,'"^^').concat(i))},defaultGraph:function(){return g},quad:q,triple:q},R=O,N=function(){function e(t){Object(a.a)(this,e),this.id=t}return Object(s.a)(e,[{key:"value",get:function(){return this.id}},{key:"equals",value:function(t){return t instanceof e?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value}}}]),e}(),S=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){return Object(a.a)(this,i),t.apply(this,arguments)}return Object(s.a)(i,[{key:"termType",get:function(){return"NamedNode"}}]),i}(N),P=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){return Object(a.a)(this,i),t.apply(this,arguments)}return Object(s.a)(i,[{key:"termType",get:function(){return"Literal"}},{key:"value",get:function(){return this.id.substring(1,this.id.lastIndexOf('"'))}},{key:"language",get:function(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}},{key:"datatype",get:function(){return new S(this.datatypeString)}},{key:"datatypeString",get:function(){var e=this.id,t=e.lastIndexOf('"')+1,i=t<e.length?e[t]:"";return"^"===i?e.substr(t+2):"@"!==i?x.string:j.langString}},{key:"equals",value:function(e){return e instanceof i?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}]),i}(N),T=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){return Object(a.a)(this,i),t.call(this,"_:".concat(e))}return Object(s.a)(i,[{key:"termType",get:function(){return"BlankNode"}},{key:"value",get:function(){return this.id.substr(2)}}]),i}(N),E=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){return Object(a.a)(this,i),t.call(this,"?".concat(e))}return Object(s.a)(i,[{key:"termType",get:function(){return"Variable"}},{key:"value",get:function(){return this.id.substr(1)}}]),i}(N),F=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){var e;return Object(a.a)(this,i),e=t.call(this,""),Object(u.a)(e,g||Object(c.a)(e))}return Object(s.a)(i,[{key:"termType",get:function(){return"DefaultGraph"}},{key:"equals",value:function(e){return this===e||!!e&&this.termType===e.termType}}]),i}(N);function C(e,t){if(t=t||O,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===O)return new P(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));var i=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,i-1),"@"===e[i+1]?e.substr(i+2):t.namedNode(e.substr(i+3)));case"<":var r=w.exec(e);return t.quad(C(B(r[1]),t),C(B(r[2]),t),C(B(r[3]),t),r[4]&&C(B(r[4]),t));default:return t.namedNode(e)}}function L(e){if("string"===typeof e)return e;if(e instanceof N&&"Quad"!==e.termType)return e.id;if(!e)return g.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:".concat(e.value);case"Variable":return"?".concat(e.value);case"DefaultGraph":return"";case"Literal":return'"'.concat(e.value,'"').concat(e.language?"@".concat(e.language):e.datatype&&e.datatype.value!==x.string?"^^".concat(e.datatype.value):"");case"Quad":return"<<".concat(A(L(e.subject))," ").concat(A(L(e.predicate))," ").concat(A(L(e.object))).concat(b(e.graph)?"":" ".concat(L(e.graph)),">>");default:throw new Error("Unexpected termType: ".concat(e.termType))}}g=new F;var Q=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e,r,n,s){var u;return Object(a.a)(this,i),(u=t.call(this,""))._subject=e,u._predicate=r,u._object=n,u._graph=s||g,u}return Object(s.a)(i,[{key:"termType",get:function(){return"Quad"}},{key:"subject",get:function(){return this._subject}},{key:"predicate",get:function(){return this._predicate}},{key:"object",get:function(){return this._object}},{key:"graph",get:function(){return this._graph}},{key:"toJSON",value:function(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}},{key:"equals",value:function(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}]),i}(N);function A(e){return e.replace(I,(function(e,t){return'"'.concat(t.replace(/"/g,'""'))}))}function B(e){return e.replace(I,(function(e,t){return'"'.concat(t.replace(/""/g,'"'))}))}function q(e,t,i,r){return new Q(e,t,i,r)}var D=0,G=function(){function e(t){Object(a.a)(this,e),this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&z(this,t.factory);var i="string"===typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(i),s=/trig/.test(i),u=/triple/.test(i),c=/quad/.test(i),o=this._n3Mode=/n3/.test(i),h=u||c;(this._supportsNamedGraphs=!(r||o))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||s||u||o),this._supportsRDFStar=""===i||/star|\*$/.test(i),h&&(this._resolveRelativeIRI=function(e){return null}),this._blankNodePrefix="string"!==typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new n.a({lineMode:h,n3:o}),this._explicitQuantifiers=!!t.explicitQuantifiers}return Object(s.a)(e,[{key:"_setBase",value:function(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}},{key:"_saveContext",value:function(e,t,i,r,n){var a=this._n3Mode;this._contextStack.push({subject:i,predicate:r,object:n,graph:t,type:e,inverse:!!a&&this._inversePredicate,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?"".concat(this._graph.id.substr(2),"."):".",this._quantified=Object.create(this._quantified))}},{key:"_restoreContext",value:function(){var e=this._contextStack.pop(),t=this._n3Mode;this._subject=e.subject,this._predicate=e.predicate,this._object=e.object,this._graph=e.graph,t&&(this._inversePredicate=e.inverse,this._prefixes._=e.blankPrefix,this._quantified=e.quantified)}},{key:"_readInTopContext",value:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}},{key:"_readEntity",value:function(e,t){var i;switch(e.type){case"IRI":case"typeIRI":var r=this._resolveIRI(e.value);if(null===r)return this._error("Invalid IRI",e);i=this._namedNode(r);break;case"type":case"prefixed":var n=this._prefixes[e.prefix];if(void 0===n)return this._error('Undefined prefix "'.concat(e.prefix,':"'),e);i=this._namedNode(n+e.value);break;case"blank":i=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":i=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got ".concat(e.type),e)}return!t&&this._n3Mode&&i.id in this._quantified&&(i=this._quantified[i.id]),i}},{key:"_readSubject",value:function(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}},{key:"_readPredicate",value:function(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected ".concat(t),e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}},{key:"_readObject",value:function(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}},{key:"_readPredicateOrNamedGraph",value:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}},{key:"_readGraph",value:function(e){return"{"!==e.type?this._error("Expected graph but got ".concat(e.type),e):(this._graph=this._subject,this._subject=null,this._readSubject)}},{key:"_readBlankNodeHead",value:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}},{key:"_readBlankNodeTail",value:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext(),null===this._object?t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank:this._getContextEndReader()}},{key:"_readPredicateAfterBlank",value:function(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}},{key:"_readListItem",value:function(e){var t=null,i=null,r=this._readListItem,n=this._subject,a=this._contextStack,s=a[a.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,i=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,i=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext(),0!==a.length&&"list"===a[a.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;i=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,r=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===i&&(this._subject=i=this._blankNode()),null===n?null===s.predicate?s.subject=i:s.object=i:this._emit(n,this.RDF_REST,i,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,i,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(i,this.RDF_FIRST,t,this._graph)}return r}},{key:"_readDataTypeOrLang",value:function(e){return this._completeObjectLiteral(e,!1)}},{key:"_readListItemDataTypeOrLang",value:function(e){return this._completeObjectLiteral(e,!0)}},{key:"_completeLiteral",value:function(e){var t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":var i=this._readEntity(e);if(void 0===i)return;t=this._literal(this._literalValue,i),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}},{key:"_completeSubjectLiteral",value:function(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}},{key:"_completeObjectLiteral",value:function(e,t){var i=this._completeLiteral(e);if(i)return this._object=i.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===i.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(i.token))}},{key:"_readFormulaTail",value:function(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext(),null===this._object?this._readPredicate:this._getContextEndReader())}},{key:"_readPunctuation",value:function(e){var t,i=this._graph,r=this._subject,n=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,n&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(i=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'.concat(this._object.id,'"'),e)}if(null!==r){var a=this._predicate,s=this._object;n?this._emit(s,a,r,i):this._emit(r,a,s,i)}return t}},{key:"_readBlankNodePunctuation",value:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'.concat(this._object.id,'"'),e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}},{key:"_readQuadPunctuation",value:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}},{key:"_readPrefix",value:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}},{key:"_readPrefixIRI",value:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'.concat(this._prefix,':"'),e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}},{key:"_readBaseIRI",value:function(e){var t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}},{key:"_readNamedGraphLabel",value:function(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}},{key:"_readNamedGraphBlankLabel",value:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}},{key:"_readDeclarationPunctuation",value:function(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}},{key:"_readQuantifierList",value:function(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected ".concat(e.type),e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}},{key:"_readQuantifierPunctuation",value:function(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}},{key:"_getPathReader",value:function(e){return this._afterPath=e,this._readPath}},{key:"_readPath",value:function(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,i=t.length&&t[t.length-1];if(i&&"item"===i.type){var r=this._subject;this._restoreContext(),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}}},{key:"_readForwardPath",value:function(e){var t,i,r=this._blankNode();if(void 0!==(i=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,i,r,this._graph),this._readPath}},{key:"_readBackwardPath",value:function(e){var t,i,r=this._blankNode();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(i=this._subject,this._subject=r):(i=this._object,this._object=r),this._emit(r,t,i,this._graph),this._readPath}},{key:"_readRDFStarTailOrGraph",value:function(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error('Expected >> to follow "'.concat(this._object.id,'"'),e):this._readRDFStarTail(e)}},{key:"_readRDFStarTail",value:function(e){if(">>"!==e.type)return this._error("Expected >> but got ".concat(e.type),e);var t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext(),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}},{key:"_getContextEndReader",value:function(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}},{key:"_emit",value:function(e,t,i,r){this._callback(null,this._quad(e,t,i,r||this.DEFAULTGRAPH))}},{key:"_error",value:function(e,t){var i=new Error("".concat(e," on line ").concat(t.line,"."));i.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(i),this._callback=M}},{key:"_resolveIRI",value:function(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}},{key:"_resolveRelativeIRI",value:function(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}},{key:"_removeDotSegments",value:function(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;for(var t=e.length,i="",r=-1,n=-1,a=0,s="/";r<t;){switch(s){case":":if(n<0&&"/"===e[++r]&&"/"===e[++r])for(;(n=r+1)<t&&"/"!==e[n];)r=n;break;case"?":case"#":r=t;break;case"/":if("."===e[r+1])switch(s=e[1+ ++r]){case"/":i+=e.substring(a,r-1),a=r+1;break;case void 0:case"?":case"#":return i+e.substring(a,r)+e.substr(r+1);case".":if(void 0===(s=e[1+ ++r])||"/"===s||"?"===s||"#"===s){if((a=(i+=e.substring(a,r-2)).lastIndexOf("/"))>=n&&(i=i.substr(0,a)),"/"!==s)return"".concat(i,"/").concat(e.substr(r+1));a=r+1}}}s=e[++r]}return i+e.substring(a)}},{key:"parse",value:function(e,t,i){var r=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b".concat(D++,"_"),this._prefixCallback=i||M,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var n,a=[];if(this._callback=function(e,t){e?n=e:t&&a.push(t)},this._lexer.tokenize(e).every((function(e){return r._readCallback=r._readCallback(e)})),n)throw n;return a}this._callback=t,this._lexer.tokenize(e,(function(e,t){null!==e?(r._callback(e),r._callback=M):r._readCallback&&(r._readCallback=r._readCallback(t))}))}}],[{key:"_resetBlankNodePrefix",value:function(){D=0}}]),e}();function M(){}function z(e,t){var i=t.namedNode;e._namedNode=i,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=i(l.a.rdf.first),e.RDF_REST=i(l.a.rdf.rest),e.RDF_NIL=i(l.a.rdf.nil),e.N3_FORALL=i(l.a.r.forAll),e.N3_FORSOME=i(l.a.r.forSome),e.ABBREVIATIONS={a:i(l.a.rdf.type),"=":i(l.a.owl.sameAs),">":i(l.a.log.implies)},e.QUANTIFIERS_GRAPH=i("urn:n3:quantifiers")}z(G.prototype,R);var U=R.defaultGraph(),$=l.a.rdf,H=l.a.xsd,K=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,V=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,Z={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"},J=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(){return Object(a.a)(this,i),t.apply(this,arguments)}return Object(s.a)(i,[{key:"equals",value:function(){return!1}}]),i}(N),W=function(){function e(t,i){if(Object(a.a)(this,e),this._prefixRegex=/$0^/,t&&"function"!==typeof t.write&&(i=t,t=null),i=i||{},this._lists=i.lists,t)this._outputStream=t,this._endStream=void 0===i.end||!!i.end;else{var r="";this._outputStream={write:function(e,t,i){r+=e,i&&i()},end:function(e){e&&e(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(i.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=U,this._baseIRI=i.baseIRI,this._prefixIRIs=Object.create(null),i.prefixes&&this.addPrefixes(i.prefixes))}return Object(s.a)(e,[{key:"_inDefaultGraph",get:function(){return U.equals(this._graph)}},{key:"_write",value:function(e,t){this._outputStream.write(e,"utf8",t)}},{key:"_writeQuad",value:function(e,t,i,r,n){try{r.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(U.equals(r)?"":"".concat(this._encodeIriOrBlank(r)," {\n"))),this._graph=r,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", ".concat(this._encodeObject(i)),n):this._write(";\n    ".concat(this._encodePredicate(this._predicate=t)," ").concat(this._encodeObject(i)),n):this._write("".concat((null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)," ").concat(this._encodePredicate(this._predicate=t)," ").concat(this._encodeObject(i)),n)}catch(a){n&&n(a)}}},{key:"_writeQuadLine",value:function(e,t,i,r,n){delete this._prefixMatch,this._write(this.quadToString(e,t,i,r),n)}},{key:"quadToString",value:function(e,t,i,r){return"".concat(this._encodeSubject(e)," ").concat(this._encodeIriOrBlank(t)," ").concat(this._encodeObject(i)).concat(r&&r.value?" ".concat(this._encodeIriOrBlank(r)," .\n"):" .\n")}},{key:"quadsToString",value:function(e){var t=this;return e.map((function(e){return t.quadToString(e.subject,e.predicate,e.object,e.graph)})).join("")}},{key:"_encodeSubject",value:function(e){return"Quad"===e.termType?this._encodeQuad(e):this._encodeIriOrBlank(e)}},{key:"_encodeIriOrBlank",value:function(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:"_:".concat(e.value);var t=e.value;this._baseIRI&&t.startsWith(this._baseIRI)&&(t=t.substr(this._baseIRI.length)),K.test(t)&&(t=t.replace(V,X));var i=this._prefixRegex.exec(t);return i?i[1]?this._prefixIRIs[i[1]]+i[2]:t:"<".concat(t,">")}},{key:"_encodeLiteral",value:function(e){var t=e.value;if(K.test(t)&&(t=t.replace(V,X)),e.language)return'"'.concat(t,'"@').concat(e.language);if(this._lineMode){if(e.datatype.value===H.string)return'"'.concat(t,'"')}else switch(e.datatype.value){case H.string:return'"'.concat(t,'"');case H.boolean:if("true"===t||"false"===t)return t;break;case H.integer:if(/^[+-]?\d+$/.test(t))return t;break;case H.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case H.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t}return'"'.concat(t,'"^^').concat(this._encodeIriOrBlank(e.datatype))}},{key:"_encodePredicate",value:function(e){return e.value===$.type?"a":this._encodeIriOrBlank(e)}},{key:"_encodeObject",value:function(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}},{key:"_encodeQuad",value:function(e){var t=e.subject,i=e.predicate,r=e.object,n=e.graph;return"<<".concat(this._encodeSubject(t)," ").concat(this._encodePredicate(i)," ").concat(this._encodeObject(r)).concat(b(n)?"":" ".concat(this._encodeIriOrBlank(n)),">>")}},{key:"_blockedWrite",value:function(){throw new Error("Cannot write because the writer has been closed.")}},{key:"addQuad",value:function(e,t,i,r,n){void 0===i?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"===typeof r?this._writeQuad(e,t,i,U,r):this._writeQuad(e,t,i,r||U,n)}},{key:"addQuads",value:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}},{key:"addPrefix",value:function(e,t,i){var r={};r[e]=t,this.addPrefixes(r,i)}},{key:"addPrefixes",value:function(e,t){if(!this._prefixIRIs)return t&&t();var i=!1;for(var r in e){var n=e[r];"string"!==typeof n&&(n=n.value),i=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[n]=r+=":",this._write("@prefix ".concat(r," <").concat(n,">.\n"))}if(i){var a="",s="";for(var u in this._prefixIRIs)a+=a?"|".concat(u):u,s+=(s?"|":"")+this._prefixIRIs[u];a=a.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:".concat(s,")[^/]*$|")+"^(".concat(a,")([a-zA-Z][\\-_a-zA-Z0-9]*)$"))}this._write(i?"\n":"",t)}},{key:"blank",value:function(e,t){var i,r,n=e;switch(void 0===e?n=[]:e.termType?n=[{predicate:e,object:t}]:"length"in e||(n=[e]),r=n.length){case 0:return new J("[]");case 1:if(!((i=n[0]).object instanceof J))return new J("[ ".concat(this._encodePredicate(i.predicate)," ").concat(this._encodeObject(i.object)," ]"));default:for(var a="[",s=0;s<r;s++)(i=n[s]).predicate.equals(e)?a+=", ".concat(this._encodeObject(i.object)):(a+="".concat((s?";\n  ":"\n  ")+this._encodePredicate(i.predicate)," ").concat(this._encodeObject(i.object)),e=i.predicate);return new J("".concat(a,"\n]"))}}},{key:"list",value:function(e){for(var t=e&&e.length||0,i=new Array(t),r=0;r<t;r++)i[r]=this._encodeObject(e[r]);return new J("(".concat(i.join(" "),")"))}},{key:"end",value:function(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(i,r){t=null,e(i,r)};if(this._endStream)try{return this._outputStream.end(t)}catch(i){}t&&t()}}]),e}();function X(e){var t=Z[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}var Y=i(2),ee=i.n(Y),te=i(37),ie=i(140),re=i(353),ne=function(){function e(t,i){Object(a.a)(this,e),this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,i||!t||t[0]||(i=t,t=null),i=i||{},this._factory=i.factory||R,t&&this.addQuads(t)}return Object(s.a)(e,[{key:"size",get:function(){var e=this._size;if(null!==e)return e;e=0;var t,i,r=this._graphs;for(var n in r)for(var a in t=r[n].subjects)for(var s in i=t[a])e+=Object.keys(i[s]).length;return this._size=e}},{key:"_addToIndex",value:function(e,t,i,r){var n=e[t]||(e[t]={}),a=n[i]||(n[i]={}),s=r in a;return s||(a[r]=null),!s}},{key:"_removeFromIndex",value:function(e,t,i,r){var n=e[t],a=n[i];for(var s in delete a[r],a)return;for(var u in delete n[i],n)return;delete e[t]}},{key:"_findInIndex",value:function(e,t,i,r,n,a,s,u,c,o){var h,l,d,f=!t+!i+!r>1?Object.keys(this._ids):this._entities;for(var _ in t&&((h=e,e={})[t]=h[t]),e){var p=f[_];if(l=e[_])for(var b in i&&((h=l,l={})[i]=h[i]),l){var v=f[b];if(d=l[b])for(var y=(r?r in d?[r]:[]:Object.keys(d)),k=0;k<y.length;k++){var g={subject:null,predicate:null,object:null};g[n]=C(p,this._factory),g[a]=C(v,this._factory),g[s]=C(f[y[k]],this._factory);var j=this._factory.quad(g.subject,g.predicate,g.object,C(u,this._factory));if(o)o.push(j);else if(c(j))return!0}}}return o}},{key:"_loop",value:function(e,t){for(var i in e)t(i)}},{key:"_loopByKey0",value:function(e,t,i){var r,n;if(r=e[t])for(n in r)i(n)}},{key:"_loopByKey1",value:function(e,t,i){var r;for(r in e)e[r][t]&&i(r)}},{key:"_loopBy2Keys",value:function(e,t,i,r){var n,a,s;if((n=e[t])&&(a=n[i]))for(s in a)r(s)}},{key:"_countInIndex",value:function(e,t,i,r){var n,a,s,u=0;for(var c in t&&((n=e,e={})[t]=n[t]),e)if(a=e[c])for(var o in i&&((n=a,a={})[i]=n[i]),a)(s=a[o])&&(r?r in s&&u++:u+=Object.keys(s).length);return u}},{key:"_getGraphs",value:function(e){if(!ae(e))return this._graphs;var t={};return t[e]=this._graphs[e],t}},{key:"_uniqueEntities",value:function(e){var t=this,i=Object.create(null);return function(r){r in i||(i[r]=!0,e(C(t._entities[r],t._factory)))}}},{key:"add",value:function(e){return this.addQuad(e),this}},{key:"addQuad",value:function(e,t,i,r){t||(r=e.graph,i=e.object,t=e.predicate,e=e.subject),e=L(e),t=L(t),i=L(i),r=L(r);var n=this._graphs[r];n||(n=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(n));var a=this._ids,s=this._entities;e=a[e]||(a[s[++this._id]=e]=this._id),t=a[t]||(a[s[++this._id]=t]=this._id),i=a[i]||(a[s[++this._id]=i]=this._id);var u=this._addToIndex(n.subjects,e,t,i);return this._addToIndex(n.predicates,t,i,e),this._addToIndex(n.objects,i,e,t),this._size=null,u}},{key:"addQuads",value:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}},{key:"delete",value:function(e){return this.removeQuad(e),this}},{key:"has",value:function(e){return 0!==this.getQuads(e.subject,e.predicate,e.object,e.graph).length}},{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.addQuad(e)})),e}},{key:"removeQuad",value:function(e,t,i,r){t||(r=e.graph,i=e.object,t=e.predicate,e=e.subject),e=L(e),t=L(t),i=L(i),r=L(r);var n,a,s,u=this._ids,c=this._graphs;if(!(e=u[e])||!(t=u[t])||!(i=u[i])||!(n=c[r])||!(a=n.subjects[e])||!(s=a[t])||!(i in s))return!1;for(e in this._removeFromIndex(n.subjects,e,t,i),this._removeFromIndex(n.predicates,t,i,e),this._removeFromIndex(n.objects,i,e,t),null!==this._size&&this._size--,n.subjects)return!0;return delete c[r],!0}},{key:"removeQuads",value:function(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])}},{key:"remove",value:function(e){var t=this;return e.on("data",(function(e){t.removeQuad(e)})),e}},{key:"removeMatches",value:function(e,t,i,r){var n=this,a=new re.Readable({objectMode:!0});return a._read=function(){var s,u=Object(ie.a)(n.getQuads(e,t,i,r));try{for(u.s();!(s=u.n()).done;){var c=s.value;a.push(c)}}catch(o){u.e(o)}finally{u.f()}a.push(null)},this.remove(a)}},{key:"deleteGraph",value:function(e){return this.removeMatches(null,null,null,e)}},{key:"getQuads",value:function(e,t,i,r){e=e&&L(e),t=t&&L(t),i=i&&L(i),r=r&&L(r);var n,a,s,u,c=[],o=this._getGraphs(r),h=this._ids;if(ae(e)&&!(a=h[e])||ae(t)&&!(s=h[t])||ae(i)&&!(u=h[i]))return c;for(var l in o)(n=o[l])&&(a?u?this._findInIndex(n.objects,u,a,s,"object","subject","predicate",l,null,c):this._findInIndex(n.subjects,a,s,null,"subject","predicate","object",l,null,c):s?this._findInIndex(n.predicates,s,u,null,"predicate","object","subject",l,null,c):u?this._findInIndex(n.objects,u,null,null,"object","subject","predicate",l,null,c):this._findInIndex(n.subjects,null,null,null,"subject","predicate","object",l,null,c));return c}},{key:"match",value:function(e,t,i,r){return new se(this,e,t,i,r)}},{key:"countQuads",value:function(e,t,i,r){e=e&&L(e),t=t&&L(t),i=i&&L(i),r=r&&L(r);var n,a,s,u,c=this._getGraphs(r),o=this._ids,h=0;if(ae(e)&&!(a=o[e])||ae(t)&&!(s=o[t])||ae(i)&&!(u=o[i]))return 0;for(var l in c)(n=c[l])&&(h+=e?i?this._countInIndex(n.objects,u,a,s):this._countInIndex(n.subjects,a,s,u):t?this._countInIndex(n.predicates,s,u,a):this._countInIndex(n.objects,u,a,s));return h}},{key:"forEach",value:function(e,t,i,r,n){this.some((function(t){return e(t),!1}),t,i,r,n)}},{key:"every",value:function(e,t,i,r,n){var a=!1,s=!this.some((function(t){return a=!0,!e(t)}),t,i,r,n);return a&&s}},{key:"some",value:function(e,t,i,r,n){t=t&&L(t),i=i&&L(i),r=r&&L(r),n=n&&L(n);var a,s,u,c,o=this._getGraphs(n),h=this._ids;if(ae(t)&&!(s=h[t])||ae(i)&&!(u=h[i])||ae(r)&&!(c=h[r]))return!1;for(var l in o)if(a=o[l])if(s){if(c){if(this._findInIndex(a.objects,c,s,u,"object","subject","predicate",l,e,null))return!0}else if(this._findInIndex(a.subjects,s,u,null,"subject","predicate","object",l,e,null))return!0}else if(u){if(this._findInIndex(a.predicates,u,c,null,"predicate","object","subject",l,e,null))return!0}else if(c){if(this._findInIndex(a.objects,c,null,null,"object","subject","predicate",l,e,null))return!0}else if(this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",l,e,null))return!0;return!1}},{key:"getSubjects",value:function(e,t,i){var r=[];return this.forSubjects((function(e){r.push(e)}),e,t,i),r}},{key:"forSubjects",value:function(e,t,i,r){t=t&&L(t),i=i&&L(i),r=r&&L(r);var n,a,s,u=this._ids,c=this._getGraphs(r);if(e=this._uniqueEntities(e),!(ae(t)&&!(a=u[t])||ae(i)&&!(s=u[i])))for(r in c)(n=c[r])&&(a?s?this._loopBy2Keys(n.predicates,a,s,e):this._loopByKey1(n.subjects,a,e):s?this._loopByKey0(n.objects,s,e):this._loop(n.subjects,e))}},{key:"getPredicates",value:function(e,t,i){var r=[];return this.forPredicates((function(e){r.push(e)}),e,t,i),r}},{key:"forPredicates",value:function(e,t,i,r){t=t&&L(t),i=i&&L(i),r=r&&L(r);var n,a,s,u=this._ids,c=this._getGraphs(r);if(e=this._uniqueEntities(e),!(ae(t)&&!(a=u[t])||ae(i)&&!(s=u[i])))for(r in c)(n=c[r])&&(a?s?this._loopBy2Keys(n.objects,s,a,e):this._loopByKey0(n.subjects,a,e):s?this._loopByKey1(n.predicates,s,e):this._loop(n.predicates,e))}},{key:"getObjects",value:function(e,t,i){var r=[];return this.forObjects((function(e){r.push(e)}),e,t,i),r}},{key:"forObjects",value:function(e,t,i,r){t=t&&L(t),i=i&&L(i),r=r&&L(r);var n,a,s,u=this._ids,c=this._getGraphs(r);if(e=this._uniqueEntities(e),!(ae(t)&&!(a=u[t])||ae(i)&&!(s=u[i])))for(r in c)(n=c[r])&&(a?s?this._loopBy2Keys(n.subjects,a,s,e):this._loopByKey1(n.objects,a,e):s?this._loopByKey0(n.predicates,s,e):this._loop(n.objects,e))}},{key:"getGraphs",value:function(e,t,i){var r=[];return this.forGraphs((function(e){r.push(e)}),e,t,i),r}},{key:"forGraphs",value:function(e,t,i,r){for(var n in this._graphs)this.some((function(t){return e(t.graph),!0}),t,i,r,n)}},{key:"createBlankNode",value:function(e){var t,i;if(e)for(t=e="_:".concat(e),i=1;this._ids[t];)t=e+i++;else do{t="_:b".concat(this._blankNodeIndex++)}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}},{key:"extractLists",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.remove,r=void 0!==i&&i,n=t.ignoreErrors,a=void 0!==n&&n,s={},u=a?function(){return!0}:function(e,t){throw new Error("".concat(e.value," ").concat(t))},c=this.getQuads(null,l.a.rdf.rest,l.a.rdf.nil,null),o=r?Object(te.a)(c):[];return c.forEach((function(t){for(var i,n,a=[],c=!1,h=t.graph,d=t.subject;d&&!c;){for(var f=e.getQuads(null,null,d,null),_=e.getQuads(d,null,null,null),p=void 0,b=null,v=null,y=null,k=0;k<_.length&&!c;k++)(p=_[k]).graph.equals(h)?i?c=u(d,"has non-list arcs out"):p.predicate.value===l.a.rdf.first?b?c=u(d,"has multiple rdf:first arcs"):o.push(b=p):p.predicate.value===l.a.rdf.rest?v?c=u(d,"has multiple rdf:rest arcs"):o.push(v=p):f.length?c=u(d,"can't be subject and object"):(i=p,n="subject"):c=u(d,"not confined to single graph");for(var g=0;g<f.length&&!c;++g)p=f[g],i?c=u(d,"can't have coreferences"):p.predicate.value===l.a.rdf.rest?y?c=u(d,"has incoming rdf:rest arcs"):y=p:(i=p,n="object");b?a.unshift(b.object):c=u(d,"has no list head"),d=y&&y.subject}c?r=!1:i&&(s[i[n].value]=a)})),r&&this.removeQuads(o),s}},{key:Symbol.iterator,value:ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.getQuads(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))}]),e}();function ae(e){return"string"===typeof e||e instanceof String}var se=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e,r,n,s,u){var o;return Object(a.a)(this,i),o=t.call(this,{objectMode:!0}),Object.assign(Object(c.a)(o),{n3Store:e,subject:r,predicate:n,object:s,graph:u}),o}return Object(s.a)(i,[{key:"filtered",get:function(){if(!this._filtered){var e=this.n3Store,t=this.graph,i=this.object,r=this.predicate,n=this.subject,a=e.getQuads(n,r,i,t);this._filtered=new ne(a,{factory:e._factory})}return this._filtered}},{key:"size",get:function(){return this.filtered.size}},{key:"_read",value:function(){var e,t=Object(ie.a)(this.filtered.getQuads());try{for(t.s();!(e=t.n()).done;){var i=e.value;this.push(i)}}catch(r){t.e(r)}finally{t.f()}this.push(null)}},{key:"add",value:function(e){return this.filtered.add(e)}},{key:"delete",value:function(e){return this.filtered.delete(e)}},{key:"has",value:function(e){return this.filtered.has(e)}},{key:"match",value:function(e,t,r,n){return new i(this.filtered,e,t,r,n)}},{key:Symbol.iterator,value:ee.a.mark((function e(){return ee.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.filtered.getQuads(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))}]),i}(re.Readable),ue=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var r,n,s;return Object(a.a)(this,i),(r=t.call(this,{decodeStrings:!0}))._readableState.objectMode=!0,new G(e).parse({on:function(e,t){switch(e){case"data":n=t;break;case"end":s=t}}},(function(e,t){e&&r.emit("error",e)||t&&r.push(t)}),(function(e,t){r.emit("prefix",e,t)})),r._transform=function(e,t,i){n(e),i()},r._flush=function(e){s(),e()},r}return Object(s.a)(i,[{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),this}}]),i}(re.Transform),ce=function(e){Object(o.a)(i,e);var t=Object(h.a)(i);function i(e){var r;Object(a.a)(this,i);var n=(r=t.call(this,{encoding:"utf8",writableObjectMode:!0}))._writer=new W({write:function(e,t,i){r.push(e),i&&i()},end:function(e){r.push(null),e&&e()}},e);return r._transform=function(e,t,i){n.addQuad(e,i)},r._flush=function(e){n.end(e)},r}return Object(s.a)(i,[{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),e.on("prefix",(function(e,i){t._writer.addPrefix(e,i)})),this}}]),i}(re.Transform)},972:function(e,t,i){"use strict";var r="http://www.w3.org/1999/02/22-rdf-syntax-ns#",n="http://www.w3.org/2001/XMLSchema#",a="http://www.w3.org/2000/10/swap/";t.a={xsd:{decimal:"".concat(n,"decimal"),boolean:"".concat(n,"boolean"),double:"".concat(n,"double"),integer:"".concat(n,"integer"),string:"".concat(n,"string")},rdf:{type:"".concat(r,"type"),nil:"".concat(r,"nil"),first:"".concat(r,"first"),rest:"".concat(r,"rest"),langString:"".concat(r,"langString")},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:"".concat(a,"reify#forSome"),forAll:"".concat(a,"reify#forAll")},log:{implies:"".concat(a,"log#implies")}}},975:function(e,t,i){"use strict";(function(e){i.d(t,"a",(function(){return _}));var r=i(31),n=i(42),a=i(972),s=i(985),u=i.n(s),c=a.a.xsd,o=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,h={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},l=/[\x00-\x20<>\\"\{\}\|\^\`]/,d={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},f=/$0^/,_=function(){function t(e){if(Object(r.a)(this,t),this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._lineMode=!!e.lineMode)for(var i in this._n3Mode=!1,this)!(i in d)&&this[i]instanceof RegExp&&(this[i]=f);else this._n3Mode=!1!==e.n3;this._comments=!!e.comments,this._literalClosingPos=0}return Object(n.a)(t,[{key:"_tokenizeToEnd",value:function(e,t){for(var i=this._input,r=this._comments;;){for(var n=void 0,a=void 0;n=this._newline.exec(i);)r&&(a=this._comment.exec(n[0]))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),i=i.substr(n[0].length,i.length),this._line++;if(!n&&(n=this._whitespace.exec(i))&&(i=i.substr(n[0].length,i.length)),this._endOfFile.test(i))return t&&(r&&(a=this._comment.exec(i))&&e(null,{line:this._line,type:"comment",value:a[1],prefix:""}),e(i=null,{line:this._line,type:"eof",value:"",prefix:""})),this._input=i;var s=this._line,u=i[0],o="",h="",d="",f=null,_=0,p=!1;switch(u){case"^":if(i.length<3)break;if("^"!==i[1]){this._n3Mode&&(_=1,o="^");break}if(this._previousMarker="^^","<"!==(i=i.substr(2))[0]){p=!0;break}case"<":if(f=this._unescapedIri.exec(i))o="IRI",h=f[1];else if(f=this._iri.exec(i)){if(null===(h=this._unescape(f[1]))||l.test(h))return k(this);o="IRI"}else i.length>1&&"<"===i[1]?(o="<<",_=2):this._n3Mode&&i.length>1&&"="===i[1]&&(o="inverse",_=2,h=">");break;case">":i.length>1&&">"===i[1]&&(o=">>",_=2);break;case"_":((f=this._blank.exec(i))||t&&(f=this._blank.exec("".concat(i," "))))&&(o="blank",d="_",h=f[1]);break;case'"':if(f=this._simpleQuotedString.exec(i))h=f[1];else{var b=this._parseLiteral(i);if(h=b.value,_=b.matchLength,null===h)return k(this)}null===f&&0===_||(o="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(f=this._simpleApostropheString.exec(i))h=f[1];else{var v=this._parseLiteral(i);if(h=v.value,_=v.matchLength,null===h)return k(this)}null===f&&0===_||(o="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(f=this._variable.exec(i))&&(o="var",h=f[0]);break;case"@":"literal"===this._previousMarker&&(f=this._langcode.exec(i))?(o="langcode",h=f[1]):(f=this._keyword.exec(i))&&(o=f[0]);break;case".":if(1===i.length?t:i[1]<"0"||i[1]>"9"){o=".",_=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(f=this._number.exec(i)||t&&(f=this._number.exec("".concat(i," "))))&&(o="literal",h=f[0],d="string"===typeof f[1]?c.double:"string"===typeof f[2]?c.decimal:c.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(f=this._sparqlKeyword.exec(i))?o=f[0].toUpperCase():p=!0;break;case"f":case"t":(f=this._boolean.exec(i))?(o="literal",h=f[0],d=c.boolean):p=!0;break;case"a":(f=this._shortPredicates.exec(i))?(o="abbreviation",h="a"):p=!0;break;case"=":this._n3Mode&&i.length>1&&(o="abbreviation",">"!==i[1]?(_=1,h="="):(_=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(_=1,o=u);break;default:p=!0}if(p&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(f=this._prefix.exec(i))?((f=this._prefixed.exec(i))||t&&(f=this._prefixed.exec("".concat(i," "))))&&(o="prefixed",d=f[1]||"",h=this._unescape(f[2])):(o="prefix",h=f[1]||"")),"^^"===this._previousMarker)switch(o){case"prefixed":o="type";break;case"IRI":o="typeIRI";break;default:o=""}if(!o)return t||!/^'''|^"""/.test(i)&&/\n|\r/.test(i)?k(this):this._input=i;var y={line:s,type:o,value:h,prefix:d};e(null,y),this.previousToken=y,this._previousMarker=o,i=i.substr(_||f[0].length,i.length)}function k(t){e(t._syntaxError(/^\S*/.exec(i)[0]))}}},{key:"_unescape",value:function(e){var t=!1,i=e.replace(o,(function(e,i,r,n){if("string"===typeof i)return String.fromCharCode(Number.parseInt(i,16));if("string"===typeof r){var a=Number.parseInt(r,16);return a<=65535?String.fromCharCode(Number.parseInt(r,16)):String.fromCharCode(55296+((a-=65536)>>10),56320+(1023&a))}return n in h?h[n]:(t=!0,"")}));return t?null:i}},{key:"_parseLiteral",value:function(e){if(e.length>=3){for(var t=e.match(/^(?:"""|"|'''|'|)/)[0],i=t.length,r=Math.max(this._literalClosingPos,i);(r=e.indexOf(t,r))>0;){for(var n=0;"\\"===e[r-n-1];)n++;if(n%2===0){var a=e.substring(i,r),s=a.split(/\r\n|\r|\n/).length-1,u=r+i;if(1===i&&0!==s||3===i&&this._lineMode)break;return this._line+=s,{value:this._unescape(a),matchLength:u}}r++}this._literalClosingPos=e.length-i+1}return{value:"",matchLength:0}}},{key:"_syntaxError",value:function(e){this._input=null;var t=new Error('Unexpected "'.concat(e,'" on line ').concat(this._line,"."));return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}},{key:"tokenize",value:function(t,i){var r=this;if(this._line=1,"string"===typeof t){if(this._input=t,"function"!==typeof i){var n,a=[];if(this._tokenizeToEnd((function(e,t){return e?n=e:a.push(t)}),!0),n)throw n;return a}u()((function(){return r._tokenizeToEnd(i,!0)}))}else this._input="",this._pendingBuffer=null,"function"===typeof t.setEncoding&&t.setEncoding("utf8"),t.on("data",(function(t){null!==r._input&&0!==t.length&&(r._pendingBuffer&&(t=e.concat([r._pendingBuffer,t]),r._pendingBuffer=null),128&t[t.length-1]?r._pendingBuffer=t:(r._input+=t,r._tokenizeToEnd(i,!1)))})),t.on("end",(function(){null!==r._input&&r._tokenizeToEnd(i,!0)})),t.on("error",i)}}]),t}()}).call(this,i(69).Buffer)},985:function(e,t,i){(function(t){var i;e.exports="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:t):function(e){return(i||(i=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))}}).call(this,i(56))}}]);
//# sourceMappingURL=4.c73e6a68.chunk.js.map